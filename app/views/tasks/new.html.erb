<h1>New task</h1>

<% form_for(@task) do |f| %>
  <%= f.error_messages %>

  <p>
  <b>Title</b><br />
  <%= f. text_field("title",:class=>"widthLong") %>
  </p>
  <p>
  <b>Description</b><br />
  <%= f. text_area("description",:class=>"widthLong") %>
  </p>
  <p>
  <b>Category</b><br />
  <%= f. select :category_id, Category.find(:all).collect { |c|
	  [c.name, c.id]}, { :include_blank => true } %>
  </p>
  <p>
  <b>Project</b><br />
  <%= f. select :project_id, Project.find(:all).collect { |p|
	  [p.name, p.id]}, { :include_blank => true } %>
  <%= f. text_field :project_name %>
  </p>
  <p>
  <b>Owner/Organization</b><br />
  <%= f. select :owner_id, User.find(:all).collect { |u|
    [u.name, u.id]}, { :include_blank => true, :selected => current_user.id } %>
  <%= f. select :organization_id, Organization.find(:all).collect { |o|
    [o.name, o.id]}, { :include_blank => true, :selected => current_user.organization_id } %>
  </p>
  <h3>Progress</h3>
  <p>
  <b>Status</b><br />
  <%= f. select :status_id, Status.find(:all).collect { |s|
    [s.name, s.id]}, { :include_blank => false } %>
  </p>
  <p>
  <b>Start/Finish Date</b><br />
  <%= f. calendar_date_select :start_date, :include_blank => true %>
  <%= f. calendar_date_select :finish_date, :include_blank => true %>
  </p>
  <p>
  <b>Duration</b><br />
  <%= f. text_field :duration %>
  </p>
  <h3>Schedule</h3>
  <p>
  <b>Est. Start/Finish Date</b><br />
  <%= f. calendar_date_select :estimated_start_date, :include_blank => true %>
  <%= f. calendar_date_select :estimated_finish_date, :include_blank => true %>
  </p>
  <p>
  <b>Est. Duration</b><br />
  <%= f. text_field :estimated_duration %>
  </p>
  <p>
    <%= f.submit 'Create' %>
  </p>
<% end %>

<%= link_to 'Back', tasks_path %>
